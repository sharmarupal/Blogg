{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/sharm/OneDrive/Desktop/Blogg/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/sharm/OneDrive/Desktop/Blogg/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/sharm/OneDrive/Desktop/Blogg/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"C:/Users/sharm/OneDrive/Desktop/Blogg/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"C:/Users/sharm/OneDrive/Desktop/Blogg/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import*as React from'react';import Avatar from'@mui/material/Avatar';import Button from'@mui/material/Button';import CssBaseline from'@mui/material/CssBaseline';import TextField from'@mui/material/TextField';import Link from'@mui/material/Link';import Grid from'@mui/material/Grid';import Box from'@mui/material/Box';import LockOutlinedIcon from'@mui/icons-material/LockOutlined';import Typography from'@mui/material/Typography';import Container from'@mui/material/Container';import{createTheme,ThemeProvider}from'@mui/material/styles';import axios from'axios';import{useState}from\"react\";import{useDispatch}from'react-redux';import{authActions}from'../store';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Copyright(props){return/*#__PURE__*/_jsxs(Typography,_objectSpread(_objectSpread({variant:\"body2\",color:\"text.secondary\",align:\"center\"},props),{},{children:['Copyright © ',/*#__PURE__*/_jsx(Link,{color:\"inherit\",href:\"https://mui.com/\",children:\"Blogg by Rupal\"}),' ',new Date().getFullYear(),'.']}));}// TODO remove, this demo shouldn't need to reset the theme.\nvar defaultTheme=createTheme();export default function SignUp(){var dispatch=useDispatch();var navigate=useNavigate();var _useState=useState({name:\"\",email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),inputs=_useState2[0],setInputs=_useState2[1];var handleChange=function handleChange(e){setInputs(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});};var sendRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"http://localhost:5000/api/user/signup\",{name:inputs.name,email:inputs.email,password:inputs.password}).catch(function(error){return console.log(error);});case 2:res=_context.sent;_context.next=5;return res.data;case 5:data=_context.sent;return _context.abrupt(\"return\",data);case 7:case\"end\":return _context.stop();}},_callee);}));return function sendRequest(){return _ref.apply(this,arguments);};}();var handleSubmit=function handleSubmit(event){event.preventDefault();console.log(inputs);sendRequest().then(function(data){return localStorage.setItem(\"userId\",data.user._id);}).then(function(){return dispatch(authActions.login());}).then(function(){return navigate(\"/blogs\");}).then(function(data){return console.log(data);});};return/*#__PURE__*/_jsx(ThemeProvider,{theme:defaultTheme,children:/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(Box,{sx:{marginTop:8,display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(Avatar,{sx:{m:1,bgcolor:'success'},children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Sign up\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",noValidate:true,onSubmit:handleSubmit,sx:{mt:3},children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{autoComplete:\"given-name\",name:\"name\",onChange:handleChange,value:inputs.name,required:true,fullWidth:true,id:\"name\",label:\"Name\",autoFocus:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",onChange:handleChange,value:inputs.email})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,name:\"password\",onChange:handleChange,value:inputs.password,label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"new-password\"})})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},children:\"Sign Up\"}),/*#__PURE__*/_jsx(Grid,{container:true,justifyContent:\"flex-end\",children:/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Link,{href:\"/login\",variant:\"body2\",children:\"Already have an account? Sign in\"})})})]})]}),/*#__PURE__*/_jsx(Copyright,{sx:{mt:5}})]})});}","map":{"version":3,"names":["React","Avatar","Button","CssBaseline","TextField","Link","Grid","Box","LockOutlinedIcon","Typography","Container","createTheme","ThemeProvider","axios","useState","useDispatch","authActions","useNavigate","jsx","_jsx","jsxs","_jsxs","Copyright","props","_objectSpread","variant","color","align","children","href","Date","getFullYear","defaultTheme","SignUp","dispatch","navigate","_useState","name","email","password","_useState2","_slicedToArray","inputs","setInputs","handleChange","e","prevState","_defineProperty","target","value","sendRequest","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","data","wrap","_callee$","_context","prev","next","post","catch","error","console","log","sent","abrupt","stop","apply","arguments","handleSubmit","event","preventDefault","then","localStorage","setItem","user","_id","login","theme","component","maxWidth","sx","marginTop","display","flexDirection","alignItems","m","bgcolor","noValidate","onSubmit","mt","container","spacing","item","xs","autoComplete","onChange","required","fullWidth","id","label","autoFocus","type","mb","justifyContent"],"sources":["C:/Users/sharm/OneDrive/Desktop/Blogg/frontend/src/components/Signup.js"],"sourcesContent":["import * as React from 'react';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Button from '@mui/material/Button';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport TextField from '@mui/material/TextField';\r\nimport Link from '@mui/material/Link';\r\nimport Grid from '@mui/material/Grid';\r\nimport Box from '@mui/material/Box';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport Typography from '@mui/material/Typography';\r\nimport Container from '@mui/material/Container';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport axios from 'axios';\r\nimport { useState } from \"react\";\r\nimport { useDispatch } from 'react-redux';\r\nimport { authActions } from '../store';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Copyright(props) {\r\n    return (\r\n        <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\r\n            {'Copyright © '}\r\n            <Link color=\"inherit\" href=\"https://mui.com/\">\r\n                Blogg by Rupal\r\n            </Link>{' '}\r\n            {new Date().getFullYear()}\r\n            {'.'}\r\n        </Typography>\r\n    );\r\n}\r\n\r\n// TODO remove, this demo shouldn't need to reset the theme.\r\n\r\nconst defaultTheme = createTheme();\r\n\r\nexport default function SignUp() {\r\n\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n\r\n    const [inputs, setInputs] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n    });\r\n\r\n    const handleChange = (e) => {\r\n        setInputs((prevState) => ({\r\n            ...prevState,\r\n            [e.target.name]: e.target.value,\r\n        }));\r\n    };\r\n\r\n    const sendRequest = async () => {\r\n        const res = await axios.post(\"http://localhost:5000/api/user/signup\", {\r\n            name: inputs.name,\r\n            email: inputs.email,\r\n            password: inputs.password\r\n        }).catch(error => console.log(error));\r\n\r\n        const data = await res.data;\r\n        return data;\r\n    };\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        console.log(inputs);\r\n        sendRequest().then((data) => localStorage.setItem(\"userId\", data.user._id))\r\n            .then(() => dispatch(authActions.login()))\r\n            .then(() => navigate(\"/blogs\"))\r\n            .then((data) => console.log(data));\r\n    };\r\n\r\n    return (\r\n        <ThemeProvider theme={defaultTheme}>\r\n            <Container component=\"main\" maxWidth=\"xs\">\r\n                <CssBaseline />\r\n                <Box\r\n                    sx={{\r\n                        marginTop: 8,\r\n                        display: 'flex',\r\n                        flexDirection: 'column',\r\n                        alignItems: 'center',\r\n                    }}\r\n                >\r\n                    <Avatar sx={{ m: 1, bgcolor: 'success' }}>\r\n                        <LockOutlinedIcon />\r\n                    </Avatar>\r\n                    <Typography component=\"h1\" variant=\"h5\">\r\n                        Sign up\r\n                    </Typography>\r\n                    <Box component=\"form\" noValidate onSubmit={handleSubmit} sx={{ mt: 3 }}>\r\n                        <Grid container spacing={2}>\r\n                            <Grid item xs={12}>\r\n                                <TextField\r\n                                    autoComplete=\"given-name\"\r\n                                    name=\"name\"\r\n                                    onChange={handleChange}\r\n                                    value={inputs.name}\r\n                                    required\r\n                                    fullWidth\r\n                                    id=\"name\"\r\n                                    label=\"Name\"\r\n                                    autoFocus\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                <TextField\r\n                                    required\r\n                                    fullWidth\r\n                                    id=\"email\"\r\n                                    label=\"Email Address\"\r\n                                    name=\"email\"\r\n                                    autoComplete=\"email\"\r\n                                    onChange={handleChange}\r\n                                    value={inputs.email}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                <TextField\r\n                                    required\r\n                                    fullWidth\r\n                                    name=\"password\"\r\n                                    onChange={handleChange}\r\n                                    value={inputs.password}\r\n                                    label=\"Password\"\r\n                                    type=\"password\"\r\n                                    id=\"password\"\r\n                                    autoComplete=\"new-password\"\r\n                                />\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Button\r\n                            type=\"submit\"\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            sx={{ mt: 3, mb: 2 }}\r\n                        >\r\n                            Sign Up\r\n                        </Button>\r\n                        <Grid container justifyContent=\"flex-end\">\r\n                            <Grid item>\r\n                                <Link href=\"/login\" variant=\"body2\">\r\n                                    Already have an account? Sign in\r\n                                </Link>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Box>\r\n                </Box>\r\n                <Copyright sx={{ mt: 5 }} />\r\n            </Container>\r\n        </ThemeProvider>\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}